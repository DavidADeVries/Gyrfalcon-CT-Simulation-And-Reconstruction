function mask = createCatheterMask(coordReadPath, volumeDims, radius)
%UNTITLED4 Summary of this function goes here
%   Detailed explanation goes here

mask = false(volumeDims);

data = load(coordReadPath);
coords = data.coords;

dims = size(coords);

numCaths = dims(3);

for i=coords(1,1,1):coords(1,1,end)
    slice = false(dims(1:2));
    
    for j=1:numCaths
        cathX = coords(j,1,:);
        cathY = coords(j,2,:);
        cathZ = coords(j,3,:);
        
        x = interp1(cathZ,cathX,coords(1,1,i));
        y = interp1(cathZ,cathY,coords(1,1,i));
        
        slice = slice | createCircleMask(x , y, radius, dims(1:2));
    end
end

end

function mask = createCircleMask(x, y, r, dims)
    [xx,yy] = ndgrid((1:dims(1))-y,(1:dims(2))-x);
    
    mask = (xx.^2 + yy.^2) < r^2;
end